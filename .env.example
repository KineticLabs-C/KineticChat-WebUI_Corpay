# KineticChat WebUI Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_ENV=development  # Options: development, staging, production
PORT=8000
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

# =============================================================================
# DATABASE CONFIGURATION (REQUIRED FROM PHASE 1)
# =============================================================================
# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key-here

# Direct PostgreSQL Connection (for better performance)
DATABASE_URL=postgresql://user:password@host:5432/database

# Connection Pool Settings
DB_POOL_MIN_SIZE=2
DB_POOL_MAX_SIZE=10
DB_TIMEOUT=60

# =============================================================================
# AI/ML CONFIGURATION
# =============================================================================
# OpenAI API Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# Qdrant Vector Database Configuration
QDRANT_URL=https://your-qdrant-instance.qdrant.io
QDRANT_API_KEY=your-qdrant-api-key-here
QDRANT_COLLECTION_NAME=kroger_health_rag_v3
QDRANT_TIMEOUT=30

# Embedding Model Configuration
EMBEDDING_MODEL=all-mpnet-base-v2
EMBEDDING_DIMENSION=768

# RAG Search Configuration (Critical for response parity)
RAG_TOP_K=7  # Number of chunks to retrieve (was 3, should be 7)
SIMILARITY_THRESHOLD=0.3  # Lower threshold for better recall (was 0.4)

# =============================================================================
# SECURITY & CORS
# =============================================================================
# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,https://yourdomain.com

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=5000

# Session Configuration
SESSION_TIMEOUT_MINUTES=30
MAX_CONCURRENT_SESSIONS=1000

# =============================================================================
# WEBSOCKET CONFIGURATION (DEPRECATED - Use HTTP POST)
# =============================================================================
# WS_HEARTBEAT_INTERVAL=30  # seconds
# WS_CONNECTION_TIMEOUT=60  # seconds
# WS_MAX_CONNECTIONS=500
# WS_MESSAGE_SIZE_LIMIT=65536  # 64KB

# =============================================================================
# SSE (Server-Sent Events) CONFIGURATION (DEPRECATED - Use HTTP POST)
# =============================================================================
# SSE_KEEPALIVE_INTERVAL=15  # seconds
# SSE_TIMEOUT=300  # 5 minutes
# SSE_RETRY_TIME=3000  # milliseconds

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Metrics Collection
ENABLE_METRICS=true
METRICS_PORT=9090

# Health Check Settings
HEALTH_CHECK_INTERVAL=60  # seconds

# Performance Monitoring (Optional - Post-MVP)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# DATADOG_API_KEY=your-datadog-api-key

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Primary Transport (Enterprise Healthcare Standard)
PRIMARY_TRANSPORT=http  # HTTP POST is the healthcare enterprise standard

# Deprecated - WebSocket/SSE not used in production
ENABLE_WEBSOCKET=false  # DEPRECATED - use HTTP POST
ENABLE_SSE_FALLBACK=false  # DEPRECATED - use HTTP POST

# Security & Compliance
ENABLE_PHI_SCRUBBING=true  # Always true for HIPAA compliance
ENABLE_RATE_LIMITING=true
ENABLE_FEEDBACK=true

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Twilio Configuration (for future SMS service)
# TWILIO_ACCOUNT_SID=your-twilio-account-sid
# TWILIO_AUTH_TOKEN=your-twilio-auth-token
# TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================
# Render.com specific
RENDER_EXTERNAL_URL=https://your-app.onrender.com

# Static Files
STATIC_FILE_MAX_AGE=3600  # Cache duration in seconds

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Debug Mode (NEVER enable in production)
DEBUG=false

# API Documentation (disable in production)
SHOW_DOCS=true  # Only in development

# Mock Services (for testing without external dependencies)
USE_MOCK_OPENAI=false
USE_MOCK_QDRANT=false
USE_MOCK_DATABASE=false